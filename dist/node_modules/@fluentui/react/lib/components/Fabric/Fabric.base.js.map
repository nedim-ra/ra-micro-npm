{"version":3,"file":"Fabric.base.js","sources":["../../../../../../../node_modules/@fluentui/react/lib/components/Fabric/Fabric.base.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, divProperties, getDocument, getNativeProps, getRTL, memoizeFunction, Customizer, FocusRectsProvider, } from '../../Utilities';\nimport { createTheme } from '../../Styling';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nvar getClassNames = classNamesFunction();\nvar getFabricTheme = memoizeFunction(function (theme, isRTL) { return createTheme(__assign(__assign({}, theme), { rtl: isRTL })); });\nvar getDir = function (_a) {\n    var theme = _a.theme, dir = _a.dir;\n    var contextDir = getRTL(theme) ? 'rtl' : 'ltr';\n    var pageDir = getRTL() ? 'rtl' : 'ltr';\n    var componentDir = dir ? dir : contextDir;\n    return {\n        // If Fabric dir !== contextDir\n        // Or If contextDir !== pageDir\n        // Then we need to set dir of the Fabric root\n        rootDir: componentDir !== contextDir || componentDir !== pageDir ? componentDir : dir,\n        // If dir !== contextDir || pageDir\n        // then set contextual theme around content\n        needsTheme: componentDir !== contextDir,\n    };\n};\nexport var FabricBase = React.forwardRef(function (props, ref) {\n    var className = props.className, theme = props.theme, applyTheme = props.applyTheme, applyThemeToBody = props.applyThemeToBody, styles = props.styles;\n    var classNames = getClassNames(styles, {\n        theme: theme,\n        applyTheme: applyTheme,\n        className: className,\n    });\n    var rootElement = React.useRef(null);\n    useApplyThemeToBody(applyThemeToBody, classNames, rootElement);\n    return React.createElement(React.Fragment, null, useRenderedContent(props, classNames, rootElement, ref));\n});\nFabricBase.displayName = 'FabricBase';\nfunction useRenderedContent(props, _a, rootElement, ref) {\n    var root = _a.root;\n    var _b = props.as, Root = _b === void 0 ? 'div' : _b, dir = props.dir, theme = props.theme;\n    var divProps = getNativeProps(props, divProperties, ['dir']);\n    var _c = getDir(props), rootDir = _c.rootDir, needsTheme = _c.needsTheme;\n    var renderedContent = (React.createElement(FocusRectsProvider, { providerRef: rootElement },\n        React.createElement(Root, __assign({ dir: rootDir }, divProps, { className: root, ref: useMergedRefs(rootElement, ref) }))));\n    // Create the contextual theme if component direction does not match parent direction.\n    if (needsTheme) {\n        // Disabling ThemeProvider here because theme doesn't need to be re-provided by ThemeProvider if dir has changed.\n        renderedContent = (\n        // eslint-disable-next-line deprecation/deprecation\n        React.createElement(Customizer, { settings: { theme: getFabricTheme(theme, dir === 'rtl') } }, renderedContent));\n    }\n    return renderedContent;\n}\nfunction useApplyThemeToBody(applyThemeToBody, _a, rootElement) {\n    var bodyThemed = _a.bodyThemed;\n    React.useEffect(function () {\n        if (applyThemeToBody) {\n            var currentDoc_1 = getDocument(rootElement.current);\n            if (currentDoc_1) {\n                currentDoc_1.body.classList.add(bodyThemed);\n                return function () {\n                    currentDoc_1.body.classList.remove(bodyThemed);\n                };\n            }\n        }\n    }, [bodyThemed, applyThemeToBody, rootElement]);\n    return rootElement;\n}\n//# sourceMappingURL=Fabric.base.js.map"],"names":["getClassNames","classNamesFunction","getFabricTheme","memoizeFunction","theme","isRTL","createTheme","__assign","getDir","_a","dir","contextDir","getRTL","pageDir","componentDir","FabricBase","React","props","ref","className","applyTheme","applyThemeToBody","styles","classNames","rootElement","useApplyThemeToBody","useRenderedContent","root","_b","Root","divProps","getNativeProps","divProperties","_c","rootDir","needsTheme","renderedContent","FocusRectsProvider","useMergedRefs","Customizer","bodyThemed","currentDoc_1","getDocument"],"mappings":";;;;;;;;;;;AAKA,IAAIA,IAAgB,gBAAAC,EAAkB,GAClCC,IAAiB,gBAAAC,EAAgB,SAAUC,GAAOC,GAAO;AAAE,SAAOC,EAAYC,EAASA,EAAS,CAAA,GAAIH,CAAK,GAAG,EAAE,KAAKC,EAAK,CAAE,CAAC;AAAE,CAAE,GAC/HG,IAAS,SAAUC,GAAI;AACvB,MAAIL,IAAQK,EAAG,OAAOC,IAAMD,EAAG,KAC3BE,IAAaC,EAAOR,CAAK,IAAI,QAAQ,OACrCS,IAAUD,MAAW,QAAQ,OAC7BE,IAAeJ,KAAYC;AAC/B,SAAO;AAAA;AAAA;AAAA;AAAA,IAIH,SAASG,MAAiBH,KAAcG,MAAiBD,IAAUC,IAAeJ;AAAA;AAAA;AAAA,IAGlF,YAAYI,MAAiBH;AAAA,EACrC;AACA,GACWI,IAAa,gBAAAC,EAAM,WAAW,SAAUC,GAAOC,GAAK;AAC3D,MAAIC,IAAYF,EAAM,WAAWb,IAAQa,EAAM,OAAOG,IAAaH,EAAM,YAAYI,IAAmBJ,EAAM,kBAAkBK,IAASL,EAAM,QAC3IM,IAAavB,EAAcsB,GAAQ;AAAA,IACnC,OAAOlB;AAAA,IACP,YAAYgB;AAAA,IACZ,WAAWD;AAAA,EACnB,CAAK,GACGK,IAAcR,EAAM,OAAO,IAAI;AACnC,SAAAS,EAAoBJ,GAAkBE,GAAYC,CAAW,GACtDR,EAAM,cAAcA,EAAM,UAAU,MAAMU,EAAmBT,GAAOM,GAAYC,GAAaN,CAAG,CAAC;AAC5G,CAAC;AACDH,EAAW,cAAc;AACzB,SAASW,EAAmBT,GAAOR,GAAIe,GAAaN,GAAK;AACrD,MAAIS,IAAOlB,EAAG,MACVmB,IAAKX,EAAM,IAAIY,IAAOD,MAAO,SAAS,QAAQA,GAAIlB,IAAMO,EAAM,KAAKb,IAAQa,EAAM,OACjFa,IAAWC,EAAed,GAAOe,GAAe,CAAC,KAAK,CAAC,GACvDC,IAAKzB,EAAOS,CAAK,GAAGiB,IAAUD,EAAG,SAASE,IAAaF,EAAG,YAC1DG,IAAmBpB,EAAM;AAAA,IAAcqB;AAAA,IAAoB,EAAE,aAAab,EAAa;AAAA,IACvFR,EAAM,cAAca,GAAMtB,EAAS,EAAE,KAAK2B,EAAS,GAAEJ,GAAU,EAAE,WAAWH,GAAM,KAAKW,EAAcd,GAAaN,CAAG,EAAG,CAAA,CAAC;AAAA,EAAC;AAE9H,SAAIiB,MAEAC;AAAA,EAEApB,EAAM,cAAcuB,GAAY,EAAE,UAAU,EAAE,OAAOrC,EAAeE,GAAOM,MAAQ,KAAK,EAAG,EAAA,GAAI0B,CAAe,IAE3GA;AACX;AACA,SAASX,EAAoBJ,GAAkBZ,GAAIe,GAAa;AAC5D,MAAIgB,IAAa/B,EAAG;AACpB,SAAAO,EAAM,UAAU,WAAY;AACxB,QAAIK,GAAkB;AAClB,UAAIoB,IAAeC,EAAYlB,EAAY,OAAO;AAClD,UAAIiB;AACA,eAAAA,EAAa,KAAK,UAAU,IAAID,CAAU,GACnC,WAAY;AACf,UAAAC,EAAa,KAAK,UAAU,OAAOD,CAAU;AAAA,QACjE;AAAA,IAES;AAAA,EACJ,GAAE,CAACA,GAAYnB,GAAkBG,CAAW,CAAC,GACvCA;AACX;","x_google_ignoreList":[0]}