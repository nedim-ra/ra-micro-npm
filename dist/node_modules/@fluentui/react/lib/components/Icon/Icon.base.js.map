{"version":3,"file":"Icon.base.js","sources":["../../../../../../../node_modules/@fluentui/react/lib/components/Icon/Icon.base.js"],"sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { IconType } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState } from '../Image/Image.types';\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\nimport { getIconContent } from './FontIcon';\nvar getClassNames = classNamesFunction({\n    // Icon is used a lot by other components.\n    // It's likely to see expected cases which pass different className to the Icon.\n    // Therefore setting a larger cache size.\n    cacheSize: 100,\n});\nvar IconBase = /** @class */ (function (_super) {\n    __extends(IconBase, _super);\n    function IconBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._onImageLoadingStateChange = function (state) {\n            if (_this.props.imageProps && _this.props.imageProps.onLoadingStateChange) {\n                _this.props.imageProps.onLoadingStateChange(state);\n            }\n            if (state === ImageLoadState.error) {\n                _this.setState({ imageLoadError: true });\n            }\n        };\n        _this.state = {\n            imageLoadError: false,\n        };\n        return _this;\n    }\n    IconBase.prototype.render = function () {\n        var _a = this.props, children = _a.children, className = _a.className, styles = _a.styles, iconName = _a.iconName, imageErrorAs = _a.imageErrorAs, theme = _a.theme;\n        var isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n        var isImage = \n        // eslint-disable-next-line deprecation/deprecation\n        !!this.props.imageProps || this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\n        var iconContent = getIconContent(iconName) || {};\n        var iconClassName = iconContent.iconClassName, iconContentChildren = iconContent.children, mergeImageProps = iconContent.mergeImageProps;\n        var classNames = getClassNames(styles, {\n            theme: theme,\n            className: className,\n            iconClassName: iconClassName,\n            isImage: isImage,\n            isPlaceholder: isPlaceholder,\n        });\n        var RootType = isImage ? 'span' : 'i';\n        var nativeProps = getNativeProps(this.props, htmlElementProperties, [\n            'aria-label',\n        ]);\n        var imageLoadError = this.state.imageLoadError;\n        var imageProps = __assign(__assign({}, this.props.imageProps), { onLoadingStateChange: this._onImageLoadingStateChange });\n        var ImageType = (imageLoadError && imageErrorAs) || Image;\n        // eslint-disable-next-line deprecation/deprecation\n        var ariaLabel = this.props['aria-label'] || this.props.ariaLabel;\n        var accessibleName = imageProps.alt || ariaLabel || this.props.title;\n        var hasName = !!(accessibleName ||\n            this.props['aria-labelledby'] ||\n            imageProps['aria-label'] ||\n            imageProps['aria-labelledby']);\n        var containerProps = hasName\n            ? {\n                role: isImage || mergeImageProps ? undefined : 'img',\n                'aria-label': isImage || mergeImageProps ? undefined : accessibleName,\n            }\n            : {\n                'aria-hidden': true,\n            };\n        var finalIconContentChildren = iconContentChildren;\n        if (mergeImageProps && iconContentChildren && typeof iconContentChildren === 'object' && accessibleName) {\n            finalIconContentChildren = React.cloneElement(iconContentChildren, {\n                alt: accessibleName,\n            });\n        }\n        return (React.createElement(RootType, __assign({ \"data-icon-name\": iconName }, containerProps, nativeProps, (mergeImageProps\n            ? {\n                title: undefined,\n                'aria-label': undefined,\n            }\n            : {}), { className: classNames.root }), isImage ? React.createElement(ImageType, __assign({}, imageProps)) : children || finalIconContentChildren));\n    };\n    return IconBase;\n}(React.Component));\nexport { IconBase };\n//# sourceMappingURL=Icon.base.js.map"],"names":["getClassNames","classNamesFunction","IconBase","_super","__extends","props","_this","state","ImageLoadState","_a","children","className","styles","iconName","imageErrorAs","theme","isPlaceholder","isImage","IconType","iconContent","getIconContent","iconClassName","iconContentChildren","mergeImageProps","classNames","RootType","nativeProps","getNativeProps","htmlElementProperties","imageLoadError","imageProps","__assign","ImageType","Image","ariaLabel","accessibleName","hasName","containerProps","finalIconContentChildren","React"],"mappings":";;;;;;;;AAOA,IAAIA,IAAgB,gBAAAC,EAAmB;AAAA;AAAA;AAAA;AAAA,EAInC,WAAW;AACf,CAAC,GACGC;AAAA;AAAA,EAA0B,yBAAUC,GAAQ;AAC5C,IAAAC,EAAUF,GAAUC,CAAM;AAC1B,aAASD,EAASG,GAAO;AACrB,UAAIC,IAAQH,EAAO,KAAK,MAAME,CAAK,KAAK;AACxC,aAAAC,EAAM,6BAA6B,SAAUC,GAAO;AAChD,QAAID,EAAM,MAAM,cAAcA,EAAM,MAAM,WAAW,wBACjDA,EAAM,MAAM,WAAW,qBAAqBC,CAAK,GAEjDA,MAAUC,EAAe,SACzBF,EAAM,SAAS,EAAE,gBAAgB,GAAM,CAAA;AAAA,MAEvD,GACQA,EAAM,QAAQ;AAAA,QACV,gBAAgB;AAAA,MAC5B,GACeA;AAAA,IACV;AACD,WAAAJ,EAAS,UAAU,SAAS,WAAY;AACpC,UAAIO,IAAK,KAAK,OAAOC,IAAWD,EAAG,UAAUE,IAAYF,EAAG,WAAWG,IAASH,EAAG,QAAQI,IAAWJ,EAAG,UAAUK,IAAeL,EAAG,cAAcM,IAAQN,EAAG,OAC1JO,IAAgB,OAAOH,KAAa,YAAYA,EAAS,WAAW,GACpEI;AAAA;AAAA,QAEJ,CAAC,CAAC,KAAK,MAAM,cAAc,KAAK,MAAM,aAAaC,EAAS,SAAS,KAAK,MAAM,aAAaA,EAAS;AAAA,SAClGC,IAAcC,EAAeP,CAAQ,KAAK,CAAA,GAC1CQ,IAAgBF,EAAY,eAAeG,IAAsBH,EAAY,UAAUI,IAAkBJ,EAAY,iBACrHK,IAAaxB,EAAcY,GAAQ;AAAA,QACnC,OAAOG;AAAA,QACP,WAAWJ;AAAA,QACX,eAAeU;AAAA,QACf,SAASJ;AAAA,QACT,eAAeD;AAAA,MAC3B,CAAS,GACGS,IAAWR,IAAU,SAAS,KAC9BS,IAAcC,EAAe,KAAK,OAAOC,GAAuB;AAAA,QAChE;AAAA,MACZ,CAAS,GACGC,IAAiB,KAAK,MAAM,gBAC5BC,IAAaC,EAASA,EAAS,CAAA,GAAI,KAAK,MAAM,UAAU,GAAG,EAAE,sBAAsB,KAAK,2BAA4B,CAAA,GACpHC,IAAaH,KAAkBf,KAAiBmB,GAEhDC,IAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM,WACnDC,IAAiBL,EAAW,OAAOI,KAAa,KAAK,MAAM,OAC3DE,IAAU,CAAC,EAAED,KACb,KAAK,MAAM,iBAAiB,KAC5BL,EAAW,YAAY,KACvBA,EAAW,iBAAiB,IAC5BO,IAAiBD,IACf;AAAA,QACE,MAAMnB,KAAWM,IAAkB,SAAY;AAAA,QAC/C,cAAcN,KAAWM,IAAkB,SAAYY;AAAA,MAC1D,IACC;AAAA,QACE,eAAe;AAAA,MAC/B,GACYG,IAA2BhB;AAC/B,aAAIC,KAAmBD,KAAuB,OAAOA,KAAwB,YAAYa,MACrFG,IAA2BC,EAAM,aAAajB,GAAqB;AAAA,QAC/D,KAAKa;AAAA,MACrB,CAAa,IAEGI,EAAM,cAAcd,GAAUM,EAAS,EAAE,kBAAkBlB,EAAU,GAAEwB,GAAgBX,GAAcH,IACvG;AAAA,QACE,OAAO;AAAA,QACP,cAAc;AAAA,MACjB,IACC,CAAE,GAAG,EAAE,WAAWC,EAAW,KAAM,CAAA,GAAGP,IAAUsB,EAAM,cAAcP,GAAWD,EAAS,IAAID,CAAU,CAAC,IAAIpB,KAAY4B,CAAwB;AAAA,IAC7J,GACWpC;AAAA,EACX,EAAEqC,EAAM,SAAS;AAAA;","x_google_ignoreList":[0]}