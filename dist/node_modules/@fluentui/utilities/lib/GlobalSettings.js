import { getWindow as s } from "./dom/getWindow.js";
var _ = "__globalSettings__", o = "__callbacks__", v = 0, b = (
  /** @class */
  /* @__PURE__ */ function() {
    function a() {
    }
    return a.getValue = function(t, n) {
      var r = e();
      return r[t] === void 0 && (r[t] = typeof n == "function" ? n() : n), r[t];
    }, a.setValue = function(t, n) {
      var r = e(), i = r[o], l = r[t];
      if (n !== l) {
        r[t] = n;
        var f = {
          oldValue: l,
          value: n,
          key: t
        };
        for (var g in i)
          i.hasOwnProperty(g) && i[g](f);
      }
      return n;
    }, a.addChangeListener = function(t) {
      var n = t.__id__, r = c();
      n || (n = t.__id__ = String(v++)), r[n] = t;
    }, a.removeChangeListener = function(t) {
      var n = c();
      delete n[t.__id__];
    }, a;
  }()
);
function e() {
  var a, t = s(), n = t || {};
  return n[_] || (n[_] = (a = {}, a[o] = {}, a)), n[_];
}
function c() {
  var a = e();
  return a[o];
}
export {
  b as GlobalSettings
};
//# sourceMappingURL=GlobalSettings.js.map
