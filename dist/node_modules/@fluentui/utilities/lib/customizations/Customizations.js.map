{"version":3,"file":"Customizations.js","sources":["../../../../../../node_modules/@fluentui/utilities/lib/customizations/Customizations.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { GlobalSettings } from '../GlobalSettings';\nvar CustomizationsGlobalKey = 'customizations';\nvar NO_CUSTOMIZATIONS = { settings: {}, scopedSettings: {}, inCustomizerContext: false };\nvar _allSettings = GlobalSettings.getValue(CustomizationsGlobalKey, {\n    settings: {},\n    scopedSettings: {},\n    inCustomizerContext: false,\n});\nvar _events = [];\nvar Customizations = /** @class */ (function () {\n    function Customizations() {\n    }\n    Customizations.reset = function () {\n        _allSettings.settings = {};\n        _allSettings.scopedSettings = {};\n    };\n    /** Apply global Customization settings.\n     * @example Customizations.applySettings(\\{ theme: \\{...\\} \\});\n     */\n    Customizations.applySettings = function (settings) {\n        _allSettings.settings = __assign(__assign({}, _allSettings.settings), settings);\n        Customizations._raiseChange();\n    };\n    /** Apply Customizations to a particular named scope, like a component.\n     * @example Customizations.applyScopedSettings('Nav', \\{ styles: () =\\> \\{\\} \\});\n     */\n    Customizations.applyScopedSettings = function (scopeName, settings) {\n        _allSettings.scopedSettings[scopeName] = __assign(__assign({}, _allSettings.scopedSettings[scopeName]), settings);\n        Customizations._raiseChange();\n    };\n    Customizations.getSettings = function (properties, scopeName, localSettings) {\n        if (localSettings === void 0) { localSettings = NO_CUSTOMIZATIONS; }\n        var settings = {};\n        var localScopedSettings = (scopeName && localSettings.scopedSettings[scopeName]) || {};\n        var globalScopedSettings = (scopeName && _allSettings.scopedSettings[scopeName]) || {};\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var property = properties_1[_i];\n            settings[property] =\n                localScopedSettings[property] ||\n                    localSettings.settings[property] ||\n                    globalScopedSettings[property] ||\n                    _allSettings.settings[property];\n        }\n        return settings;\n    };\n    /** Used to run some code that sets Customizations without triggering an update until the end.\n     * Useful for applying Customizations that don't affect anything currently rendered, or for\n     * applying many customizations at once.\n     * @param suppressUpdate - Do not raise the change event at the end, preventing all updates\n     */\n    Customizations.applyBatchedUpdates = function (code, suppressUpdate) {\n        Customizations._suppressUpdates = true;\n        try {\n            code();\n        }\n        catch (_a) {\n            /* do nothing */\n        }\n        Customizations._suppressUpdates = false;\n        if (!suppressUpdate) {\n            Customizations._raiseChange();\n        }\n    };\n    Customizations.observe = function (onChange) {\n        _events.push(onChange);\n    };\n    Customizations.unobserve = function (onChange) {\n        _events = _events.filter(function (cb) { return cb !== onChange; });\n    };\n    Customizations._raiseChange = function () {\n        if (!Customizations._suppressUpdates) {\n            _events.forEach(function (cb) { return cb(); });\n        }\n    };\n    return Customizations;\n}());\nexport { Customizations };\n//# sourceMappingURL=Customizations.js.map"],"names":["CustomizationsGlobalKey","NO_CUSTOMIZATIONS","_allSettings","GlobalSettings","_events","Customizations","settings","__assign","scopeName","properties","localSettings","localScopedSettings","globalScopedSettings","_i","properties_1","property","code","suppressUpdate","onChange","cb"],"mappings":";;AAEA,IAAIA,IAA0B,kBAC1BC,IAAoB,EAAE,UAAU,CAAE,GAAE,gBAAgB,IAAI,qBAAqB,MAC7EC,IAAe,gBAAAC,EAAe,SAASH,GAAyB;AAAA,EAChE,UAAU,CAAE;AAAA,EACZ,gBAAgB,CAAE;AAAA,EAClB,qBAAqB;AACzB,CAAC,GACGI,IAAU,CAAA,GACVC;AAAA;AAAA,EAAgC,2BAAY;AAC5C,aAASA,IAAiB;AAAA,IACzB;AACD,WAAAA,EAAe,QAAQ,WAAY;AAC/B,MAAAH,EAAa,WAAW,IACxBA,EAAa,iBAAiB;IACtC,GAIIG,EAAe,gBAAgB,SAAUC,GAAU;AAC/C,MAAAJ,EAAa,WAAWK,EAASA,EAAS,CAAE,GAAEL,EAAa,QAAQ,GAAGI,CAAQ,GAC9ED,EAAe,aAAY;AAAA,IACnC,GAIIA,EAAe,sBAAsB,SAAUG,GAAWF,GAAU;AAChE,MAAAJ,EAAa,eAAeM,CAAS,IAAID,EAASA,EAAS,IAAIL,EAAa,eAAeM,CAAS,CAAC,GAAGF,CAAQ,GAChHD,EAAe,aAAY;AAAA,IACnC,GACIA,EAAe,cAAc,SAAUI,GAAYD,GAAWE,GAAe;AACzE,MAAIA,MAAkB,WAAUA,IAAgBT;AAIhD,eAHIK,IAAW,CAAA,GACXK,IAAuBH,KAAaE,EAAc,eAAeF,CAAS,KAAM,IAChFI,IAAwBJ,KAAaN,EAAa,eAAeM,CAAS,KAAM,IAC3EK,IAAK,GAAGC,IAAeL,GAAYI,IAAKC,EAAa,QAAQD,KAAM;AACxE,YAAIE,IAAWD,EAAaD,CAAE;AAC9B,QAAAP,EAASS,CAAQ,IACbJ,EAAoBI,CAAQ,KACxBL,EAAc,SAASK,CAAQ,KAC/BH,EAAqBG,CAAQ,KAC7Bb,EAAa,SAASa,CAAQ;AAAA,MACzC;AACD,aAAOT;AAAA,IACf,GAMID,EAAe,sBAAsB,SAAUW,GAAMC,GAAgB;AACjE,MAAAZ,EAAe,mBAAmB;AAClC,UAAI;AACA,QAAAW;MACH,QACU;AAAA,MAEV;AACD,MAAAX,EAAe,mBAAmB,IAC7BY,KACDZ,EAAe,aAAY;AAAA,IAEvC,GACIA,EAAe,UAAU,SAAUa,GAAU;AACzC,MAAAd,EAAQ,KAAKc,CAAQ;AAAA,IAC7B,GACIb,EAAe,YAAY,SAAUa,GAAU;AAC3C,MAAAd,IAAUA,EAAQ,OAAO,SAAUe,GAAI;AAAE,eAAOA,MAAOD;AAAA,MAAS,CAAE;AAAA,IAC1E,GACIb,EAAe,eAAe,WAAY;AACtC,MAAKA,EAAe,oBAChBD,EAAQ,QAAQ,SAAUe,GAAI;AAAE,eAAOA,EAAE;AAAA,MAAG,CAAE;AAAA,IAE1D,GACWd;AAAA,EACX,EAAG;AAAA;","x_google_ignoreList":[0]}