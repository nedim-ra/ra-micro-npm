{"version":3,"file":"useTarget.js","sources":["../../../../../node_modules/@fluentui/react-hooks/lib/useTarget.js"],"sourcesContent":["import { getDocument } from '@fluentui/utilities';\nimport * as React from 'react';\nimport { useWindow } from '@fluentui/react-window-provider';\n/**\n * Hook to calculate and cache the target element specified by the given target attribute,\n * as well as the target element's (or host element's) parent window\n * @param target- Target selector passed to the component as a property, describing the element that\n * the callout should target\n * @param hostElement- The callout's host element, used for determining the parent window.\n */\nexport function useTarget(target, hostElement) {\n    var _a, _b, _c;\n    var previousTargetProp = React.useRef();\n    var targetRef = React.useRef(null);\n    /**\n     * Stores an instance of Window, used to check\n     * for server side rendering and if focus was lost.\n     */\n    var targetWindow = useWindow();\n    // If the target element changed, find the new one. If we are tracking\n    // target with class name, always find element because we do not know if\n    // fabric has rendered a new element and disposed the old element.\n    if (!target || target !== previousTargetProp.current || typeof target === 'string') {\n        var currentElement = hostElement === null || hostElement === void 0 ? void 0 : hostElement.current;\n        if (target) {\n            if (typeof target === 'string') {\n                // If element is part of shadow dom, then querySelector on shadow root, else query on document\n                if ((_a = currentElement === null || currentElement === void 0 ? void 0 : currentElement.getRootNode()) === null || _a === void 0 ? void 0 : _a.host) {\n                    targetRef.current = (_c = (_b = currentElement === null || currentElement === void 0 ? void 0 : currentElement.getRootNode()) === null || _b === void 0 ? void 0 : _b.querySelector(target)) !== null && _c !== void 0 ? _c : null;\n                }\n                else {\n                    var currentDoc = getDocument(currentElement);\n                    targetRef.current = currentDoc ? currentDoc.querySelector(target) : null;\n                }\n            }\n            else if ('stopPropagation' in target) {\n                targetRef.current = target;\n            }\n            else if ('getBoundingClientRect' in target) {\n                targetRef.current = target;\n            }\n            else if ('current' in target) {\n                targetRef.current = target.current;\n            }\n            else {\n                targetRef.current = target;\n            }\n        }\n        previousTargetProp.current = target;\n    }\n    return [targetRef, targetWindow];\n}\n//# sourceMappingURL=useTarget.js.map"],"names":["useTarget","target","hostElement","_a","_b","_c","previousTargetProp","React","targetRef","targetWindow","useWindow","currentElement","currentDoc","getDocument"],"mappings":";;;AAUO,SAASA,EAAUC,GAAQC,GAAa;AAC3C,MAAIC,GAAIC,GAAIC,GACRC,IAAqBC,EAAM,UAC3BC,IAAYD,EAAM,OAAO,IAAI,GAK7BE,IAAeC;AAInB,MAAI,CAACT,KAAUA,MAAWK,EAAmB,WAAW,OAAOL,KAAW,UAAU;AAChF,QAAIU,IAAiBT,KAAgB,OAAiC,SAASA,EAAY;AAC3F,QAAID;AACA,UAAI,OAAOA,KAAW;AAElB,YAAK,GAAAE,IAAKQ,KAAmB,OAAoC,SAASA,EAAe,YAAa,OAAM,QAAQR,MAAO,WAAkBA,EAAG;AAC5I,UAAAK,EAAU,WAAWH,KAAMD,IAAKO,KAAmB,OAAoC,SAASA,EAAe,YAAa,OAAM,QAAQP,MAAO,SAAS,SAASA,EAAG,cAAcH,CAAM,OAAO,QAAQI,MAAO,SAASA,IAAK;AAAA,aAE7N;AACD,cAAIO,IAAaC,EAAYF,CAAc;AAC3C,UAAAH,EAAU,UAAUI,IAAaA,EAAW,cAAcX,CAAM,IAAI;AAAA,QACvE;AAAA,UAEA,CAAI,qBAAqBA,KAGrB,2BAA2BA,IAFhCO,EAAU,UAAUP,IAKf,aAAaA,IAClBO,EAAU,UAAUP,EAAO,UAG3BO,EAAU,UAAUP;AAG5B,IAAAK,EAAmB,UAAUL;AAAA,EAChC;AACD,SAAO,CAACO,GAAWC,CAAY;AACnC;","x_google_ignoreList":[0]}