{"version":3,"file":"useControllableValue.js","sources":["../../../../../node_modules/@fluentui/react-hooks/lib/useControllableValue.js"],"sourcesContent":["import * as React from 'react';\nimport { useConst } from './useConst';\nexport function useControllableValue(controlledValue, defaultUncontrolledValue, onChange) {\n    var _a = React.useState(defaultUncontrolledValue), value = _a[0], setValue = _a[1];\n    var isControlled = useConst(controlledValue !== undefined);\n    var currentValue = isControlled ? controlledValue : value;\n    // Duplicate the current value and onChange in refs so they're accessible from\n    // setValueOrCallOnChange without creating a new callback every time\n    var valueRef = React.useRef(currentValue);\n    var onChangeRef = React.useRef(onChange);\n    React.useEffect(function () {\n        valueRef.current = currentValue;\n        onChangeRef.current = onChange;\n    });\n    // To match the behavior of the setter returned by React.useState, this callback's identity\n    // should never change. This means it MUST NOT directly reference variables that can change.\n    var setValueOrCallOnChange = useConst(function () { return function (update, ev) {\n        // Assuming here that TValue is not a function, because a controllable value will typically\n        // be something a user can enter as input\n        var newValue = typeof update === 'function' ? update(valueRef.current) : update;\n        if (onChangeRef.current) {\n            onChangeRef.current(ev, newValue);\n        }\n        if (!isControlled) {\n            setValue(newValue);\n        }\n    }; });\n    return [currentValue, setValueOrCallOnChange];\n}\n//# sourceMappingURL=useControllableValue.js.map"],"names":["useControllableValue","controlledValue","defaultUncontrolledValue","onChange","_a","React","value","setValue","isControlled","useConst","currentValue","valueRef","onChangeRef","setValueOrCallOnChange","update","ev","newValue"],"mappings":";;AAEO,SAASA,EAAqBC,GAAiBC,GAA0BC,GAAU;AACtF,MAAIC,IAAKC,EAAM,SAASH,CAAwB,GAAGI,IAAQF,EAAG,CAAC,GAAGG,IAAWH,EAAG,CAAC,GAC7EI,IAAeC,EAASR,MAAoB,MAAS,GACrDS,IAAeF,IAAeP,IAAkBK,GAGhDK,IAAWN,EAAM,OAAOK,CAAY,GACpCE,IAAcP,EAAM,OAAOF,CAAQ;AACvC,EAAAE,EAAM,UAAU,WAAY;AACxB,IAAAM,EAAS,UAAUD,GACnBE,EAAY,UAAUT;AAAA,EAC9B,CAAK;AAGD,MAAIU,IAAyBJ,EAAS,WAAY;AAAE,WAAO,SAAUK,GAAQC,GAAI;AAG7E,UAAIC,IAAW,OAAOF,KAAW,aAAaA,EAAOH,EAAS,OAAO,IAAIG;AACzE,MAAIF,EAAY,WACZA,EAAY,QAAQG,GAAIC,CAAQ,GAE/BR,KACDD,EAASS,CAAQ;AAAA,IAExB;AAAA,EAAG,CAAA;AACJ,SAAO,CAACN,GAAcG,CAAsB;AAChD;","x_google_ignoreList":[0]}